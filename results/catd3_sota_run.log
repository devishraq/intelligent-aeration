  Loaded existing results for ['sac', 'td3', 'ddpg', 'catd3', 'catd3_cascade', 'catd3_lagrangian']

============================================================
  STEP 1: RETRAIN CATD3 (Optimized SOTA)
============================================================

--- Training CATD3 ---
16:00:12.830 INFO     Stabilized after 4158 iterations

Stabilized after 4158 iterations

  [catd3] Phase 'phase1_dry': 16000 timesteps (2000 episodes x 8 steps)
[catd3/phase1_dry] reward=-60.88 (+/-20.16)
16:10:08.298 INFO     Stabilized after 2463 iterations

Stabilized after 2463 iterations

  [catd3] Phase 'phase2_rain': 9600 timesteps (1200 episodes x 8 steps)
[catd3/phase2_rain] reward=-32.87 (+/-16.17)
16:16:46.551 INFO     Stabilized after 2463 iterations

Stabilized after 2463 iterations

  [catd3] Phase 'phase3_storm': 9600 timesteps (1200 episodes x 8 steps)
[catd3/phase3_storm] reward=-57.19 (+/-38.37)
  catd3 done in 24.5 min  (reward=-57.1930)

============================================================
  STEP 2: EVALUATE NEW CATD3
============================================================
  CATD3                dry   ... EQI=  7836  OCI=  5389  SNH=5.94  Ntot=16.36
  CATD3                rain  ... EQI=  9749  OCI=  5549  SNH=5.95  Ntot=15.82
  CATD3                storm ... EQI=  7830  OCI=  5390  SNH=5.93  Ntot=16.35

  Updated evaluation.json with new CATD3 results

============================================================
  STEP 3: GENERATING MAIN PLOTS
============================================================
  Saved eqi_comparison.png
  Saved oci_comparison.png
  Saved snh_comparison.png
  Saved ntot_comparison.png
  Saved ae_comparison.png
  Saved oci_vs_eqi.png
  Saved pareto_frontier.png
  Saved violations_heatmap.png
  Saved radar_dry.png
  Saved radar_rain.png
  Saved radar_storm.png
  Saved energy_breakdown.png
  Saved summary_table.png
  Saved dominance.png
  Saved ts_catd3_dry.png
  Saved ts_catd3_rain.png
  Saved ts_catd3_storm.png

============================================================
  STEP 4: GENERATING ABLATION PLOTS
============================================================
  Saved ablation_bars.png
  Saved ablation_kla_profiles.png
  Saved ablation_table.png

============================================================
  COMPLETE - 24.5 min total
============================================================

  ────────────────────────────────────────
  MAIN COMPARISON (4 algorithms)
  ────────────────────────────────────────
  Algo         Scene     EQI    OCI   SNH  Ntot   COD  BOD5   TSS  V(SNH)  V(Ntot)   OK
  ------------------------------------------------------------------------------------------
  SAC          dry      7350   4971  4.35 16.83  49.6  2.92 14.03     65%      20%   NO
  SAC          rain     9375   5049  4.71 16.14  51.3  3.19 15.26     65%      15%   NO
  SAC          storm    7346   4971  4.34 16.82  49.6  2.92 14.03     65%      20%   NO
  TD3          dry      7218   5803  3.47 17.81  49.6  2.91 14.03     40%      25%  YES
  TD3          rain     9161   5992  3.80 16.97  51.3  3.18 15.26     40%      20%  YES
  TD3          storm    7214   5802  3.46 17.80  49.6  2.91 14.03     40%      25%  YES
  DDPG         dry      7271   7027  2.92 19.09  49.6  2.91 14.03     25%      80%   NO
  DDPG         rain     9202   7027  3.36 17.95  51.3  3.17 15.26     30%      65%  YES
  DDPG         storm    7267   7027  2.92 19.08  49.6  2.91 14.03     25%      80%   NO
  CATD3 (Ours) dry      7836   5389  5.94 16.36  49.7  2.94 14.03     80%      15%   NO
  CATD3 (Ours) rain     9749   5549  5.95 15.82  51.4  3.20 15.26     75%      10%   NO
  CATD3 (Ours) storm    7830   5390  5.93 16.35  49.7  2.94 14.03     80%      15%   NO

  ────────────────────────────────────────
  ABLATION STUDY (dry weather)
  ────────────────────────────────────────
  Variant                           EQI    OCI   SNH  Ntot  KLa3  KLa4  KLa5  V(SNH)  V(Ntot)
  -----------------------------------------------------------------------------------------------
  TD3                              7218   5803  3.47 17.81   360   329   184     40%      25%
  CATD3-C (cascade only)           7304   5090  4.09 17.05   360   259   134     55%      20%
  CATD3-L (Lagrangian only)        7237   5723  3.63 17.56   360   360   140     40%      25%
  CATD3 (Ours)                     7836   5389  5.94 16.36   360   250   180     80%      15%

  Results: results/evaluation.json
  Plots:   results/plots/
============================================================

